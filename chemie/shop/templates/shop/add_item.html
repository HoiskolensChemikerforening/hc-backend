{% extends "shop/base_shop.html" %}
{% load staticfiles %}
{% load thumbnail %}
{% load crispy_forms_tags %}

<head>
  <meta charset="UTF-8">
  <title>Chemshop</title>
</head>

{% block style %}
<style>
  .asteriskField {
    color: red;
  }
</style>
{% endblock style %}
{% block breadcrumbs %}
<nav aria-label="breadcrumb">
  <ol class="breadcrumb" style="background-color:#343a40;border-radius:0rem">
    <li class="breadcrumb-item "><a href="{%url "shop:index"%}" style="color:#edcd2f">Shop</a>
    </li>
    <li class="breadcrumb-item "><a href="{%url "shop:admin"%}" style="color:#edcd2f">Admin</a>
    </li>
    <li class="breadcrumb-item active" aria-current="page" style="color:#edcd2fb4">Legg til vare</li>
  </ol>
</nav>
{% endblock breadcrumbs %}

{% block content %}


<!-- Form with add item -->
<div style="display:inline">
  <form enctype="multipart/form-data" method="POST" style="display:inline; margin:auto">{% csrf_token %}
    <table style="padding-left: 4rem; padding-right: 4rem">
      {{ form.media }}
      {% crispy form %}
    </table>
  </form>
</div>

<!-- List of all existing items -->
<div id="itemList">
  <table style="width:100%" id="shopping-table">
    <tr class="ul-item-list" style="height:3rem">
      <th>Vare</th>
      <th>Pris</th>
      <th>Kategori</th>
      <th>Aktiv</th>
      <th></th>
    </tr>
    {% for item in items %}
    <tr class="item-list" id="item-list-{{item.name}}">
      <td>{{ item.name }}</td>
      <td>{{ item.price }}</td>
      <td>{{ item.category }}</td>
      {% if item.is_active %}
      <td>
        <i class="material-icons" style="color:green">check</i>
      </td>
      {% else %}
      <td>
        <i class="material-icons" style="color:red">clear</i>
      </td>
      {% endif %}
      <td style="float: right;"> <a type="submit" class="btn" href="{% url "shop:edit-item" item.pk %}">Endre</a></td>
    </tr>
    {% endfor %}
  </table>
</div>
{% endblock content %}