{% extends "chemie/base_election.html" %}
{% load thumbnail %}
{% load static %}

{% block content %}

<div>
    <div style="text-align: center">
         {% for message in messages %}
        <!-- TODO: Style alert for user not voting correctly-->
            <div class="alert alert-success">
                <a class="close" href="#" data-dismiss="alert">Ã—</a>
                {{ message }}
            </div>
        {% endfor %}
        <div>
            <h3 class="title is-2">{{ position.position_name }}</h3>
            <h4>Det skal velges <b>{{ position.spots }}</b> til dette vervet</h4>
            <hr color="black">
        </div>
        <br>
        <div>
            <form method="POST">{% csrf_token %}

                    <form method="POST">
                        <div class="vote-div">
                        {% csrf_token %}
                            {%for candidate in form.candidates%}
                        <div class='vote-box' onclick="changeColor(this)">
                            {{candidate}}
                        </div>
                        {%endfor%}
                        </div>
                        <hr color="black">
                        <input class="button" type='submit' style="margin-right: 10%; margin-bottom: 10%" name="Blank" value='Stem blankt'/>
                        <input class="button is-success" type='submit'  value='Avgi stemme'/>
                    </form>

            </form>


        </div>
    </div>
</div>


{% endblock content %}

{% block footer_script %}
<script src="{% static 'material/js/jquery.js' %}"></script>
<script>
changeColor = function(block){
    var input = block.children[0].children[0];
    var image = block.children[0].children[1];
    console.log(input);
    console.log(input.checked);
    if (input.checked) {
        //block.style.backgroundColor='gray';
        image.style.backgroundColor='gray';
        image.style.borderColor='gray';
    } else {
        // block.style.backgroundColor='transparent';
        image.style.backgroundColor='transparent';
        image.style.borderColor='transparent';
    }
}
</script>

<style>
    .vote-box {
        border-color: black;
        margin-bottom: 1.5rem;
    }
    .vote-div{
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        align-items: center;
    }
    .vote-box input{
        opacity: 0;
    }
    .vote-image {
        display: inline;
        border-radius: 30%;
        border-color: transparent;
        border: 3px solid #ddd;
        margin-right: 1.5rem;
        margin-right: 1.5rem;
        padding: 5px;
        width: 150px;
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
    }
</style>
{% endblock footer_script %}